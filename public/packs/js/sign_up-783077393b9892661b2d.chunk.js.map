{"version":3,"sources":["webpack:///./app/javascript/packs/sign_up.js"],"names":["ready","setInterval","axios","get","then","response","data","window","location","catch","error","console","document","querySelectorAll","forEach","button","counter","container","createElement","updateCounter","innerText","concat","countdown","disabled","removeChild","clearInterval","appendChild"],"mappings":"6FAAA,mCAKAA,aAAM,KACJC,aAAY,KACVC,IAAMC,IAAI,qCAAqCC,MAAMC,IAC/CA,EAASC,OACXC,OAAOC,SAAW,SACpB,IACCC,OAAMC,IACPC,QAAQD,MAAMA,EAAM,GACpB,GACD,KAEHE,SAASC,iBAAiB,iBAAiBC,SAAQC,IACjD,IAAIC,EAAU,GAEd,MAAMC,EAAYL,SAASM,cAAc,QAEnCC,EAAgBA,KACpBF,EAAUG,UAAS,KAAAC,OAAQL,EAAO,IAAG,EAGvCG,IAEA,MAAMG,EAAYrB,aAAY,KAC5Be,IAEgB,IAAZA,GACFD,EAAOQ,UAAW,EAClBR,EAAOS,YAAYP,GACnBQ,cAAcH,IAEdH,GACF,GACC,KAEHJ,EAAOW,YAAYT,EAAU,GAC7B,G","file":"js/sign_up-783077393b9892661b2d.chunk.js","sourcesContent":["import './public-path';\nimport axios from 'axios';\n\nimport ready from '../mastodon/ready';\n\nready(() => {\n  setInterval(() => {\n    axios.get('/api/v1/emails/check_confirmation').then((response) => {\n      if (response.data) {\n        window.location = '/start';\n      }\n    }).catch(error => {\n      console.error(error);\n    });\n  }, 5000);\n\n  document.querySelectorAll('.timer-button').forEach(button => {\n    let counter = 30;\n\n    const container = document.createElement('span');\n\n    const updateCounter = () => {\n      container.innerText = ` (${counter})`;\n    };\n\n    updateCounter();\n\n    const countdown = setInterval(() => {\n      counter--;\n\n      if (counter === 0) {\n        button.disabled = false;\n        button.removeChild(container);\n        clearInterval(countdown);\n      } else {\n        updateCounter();\n      }\n    }, 1000);\n\n    button.appendChild(container);\n  });\n});\n"],"sourceRoot":""}